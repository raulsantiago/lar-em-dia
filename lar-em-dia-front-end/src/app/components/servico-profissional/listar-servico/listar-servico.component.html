<br>
<div class="container">
    <h1>Lista de Serviços Profissionais</h1>
    <button style="margin: 5px;" [routerLink]="['/cadastrarservico']" pButton type="reset" label="Novo" class="p-button p-button-rounded" ></button>
    <br>
    <br>
        
        <!-- tabela primeng -->
        <p-table #table
        [value]="listaTipoServicoProfissionalDTO"
        [rowHover]="true"
        [rows]="10"
        [rowsPerPageOptions]="[10, 25, 100]"
        [paginator]="true"
        [showCurrentPageReport]="true"
        styleClass="p-datatable-striped"
        stateStorage="session"
        stateKey="tipoServicoState"
        sortMode="multiple"
        currentPageReportTemplate="Total de registros: {totalRecords}">

        <!-- Cabeçalho -->
        <ng-template pTemplate="header">
            <tr>                    
                <th  class="textCenter" pSortableColumn="nomeServico" scope="col">
                  Onde será o serviço<p-sortIcon field="nomeServico"></p-sortIcon>
                </th>
                <th  class="textCenter" pSortableColumn="nome" scope="col">
                  Tipo do serviço<p-sortIcon field="nome"></p-sortIcon>
                </th>
                <th  style="width: 15%;" class="textCenter" pSortableColumn="precoFmt" scope="col">
                  Preço<p-sortIcon field="precoFmt"></p-sortIcon>
                </th>
                <th style="width: 15%;" class="textCenter" pSortableColumn="ativoServicoFmt" scope="col">
                  Ativo<p-sortIcon field="ativoServicoFmt"></p-sortIcon>
                </th>                   
                <th style="width: 15%;" class="textCenter" scope="col">Ações</th>
            </tr>
            <!-- filtro -->
            <tr>
                <th>
                  <input pInputText class="inputCemPorcento"
                        type="text"
                        [value]="table.filters.nomeServico ? table.filters.nomeServico['value'] : ''" 
                        (input)="table.filter($event.target.value, 'nomeServico', 'contains')"/>
                </th>
                <th>
                  <input pInputText class="inputCemPorcento"
                  type="text"
                  [value]="table.filters.nome ? table.filters.nome['value'] : ''" 
                  (input)="table.filter($event.target.value, 'nome', 'contains')"/>
                </th>
                <th>
                  <input pInputText class="inputCemPorcento"
                        type="text"
                        [value]="table.filters.precoFmt ? table.filters.precoFmt['value'] : ''" 
                        (input)="table.filter($event.target.value, 'precoFmt', 'contains')"/>
                </th>
                <th>
                  <select class="form-control"
                          [value]="table.filters.ativoServicoFmt ? table.filters.ativoServicoFmt['value'] : ''"
                          (change)="table.filter($event.target.value, 'ativoServicoFmt', 'equals')">
                      <option value="">Todos</option>
                      <option value="Sim">Sim</option>
                      <option value="Não">Não</option>
                  </select>
                </th>
                <th></th>
            </tr>
        </ng-template>
        <!-- listagem da tabela -->
        <ng-template pTemplate="body" let-dado>
            <tr class="ui-selectable-row" >
              <td>{{ dado.nomeServico }}</td>
              <td>{{ dado.nome }}</td>
              <td class="textRight" >{{ dado.precoFmt }}</td>
              <td class="textCenter" >{{ dado.ativoServicoFmt }}</td>
              <td class="textCenter" >
                <a href="" style="padding-left: 15px;" onclick="return false;" (click)="incluirServicoTipo(dado.servicoProfissionalDTO?.idServico)">
                  <i class="fa fa-plus-circle" title="Incluir novos tipos de serviços."></i>                          
                </a>
                <a href="" style="padding-left: 15px;" onclick="return false;" (click)="alterarServicoTipo(dado.idTipo)">
                  <i class="fa fa-pencil" title="Alterar tipos de serviços."></i>                          
                </a>                
              </td>
            </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage">
            <tr>
                <td colspan="5" style="text-align:left">Não existem registros cadastrados.</td>
            </tr>
        </ng-template>
    </p-table>
        <div class="form-row">
            <div class="ml-auto p-2 bd-highlight">
                <button style="margin: 5px;" [routerLink]="['/gerenciarprofissional']" pButton type="reset" label="Voltar" class="p-button p-button-rounded p-button-secondary" ></button>
            </div>
        </div>

</div>